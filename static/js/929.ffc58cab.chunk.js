"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[929],{7623:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(5861),i=n(885),r=n(7757),o=n.n(r),s=n(2791),c=n(9686),l="TrailerModal_overlayModal__Vt4Xe",u="TrailerModal_modal-div__r75dI",d=n(184);function h(e){e.trailerMovieName;var t=e.closeModal;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]);return(0,d.jsx)("div",{className:l,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,d.jsx)("div",{className:u,children:(0,d.jsx)(c.Z,{videoId:"XtMThy8QKqU",opts:{height:"400",width:"720",playerVars:{autoplay:1}}})})})}var v=n(898),f=n(1087),m=n(7689),p=n(3160),g="Banner_banner__7KCUI",_="Banner_banner_content__VMkGJ",b="Banner_banner_title__eMG++",x="Banner_banner_description__x8a5L",w="Banner_banner_button__bIOQQ",S="Banner_fadeBottom__LdeWC";function k(e){var t=e.isRandomMovie,n=(0,s.useState)([]),r=(0,i.Z)(n,2),c=r[0],l=r[1],u=(0,s.useState)(""),k=(0,i.Z)(u,2),j=k[0],N=k[1],y=(0,m.UO)().movieId,Z=(0,m.TH)();(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)(o().mark((function e(){var n,a,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,p.Z.get(v.c.fetchTrending);case 3:n=e.sent,a=n.data,l(a.results[Math.floor(Math.random()*a.results.length)]),e.next=13;break;case 8:return e.next=10,p.Z.get(v.c.fetchSingleMovie(y));case 10:i=e.sent,r=i.data,l(r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,y]);var T,M;return(0,d.jsxs)("header",{className:g,style:{backgroundSize:"cover",backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(null===c||void 0===c?void 0:c.backdrop_path,")"),backgroundPosition:"center"},children:[(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)("h1",{className:b,children:(null===c||void 0===c?void 0:c.title)||(null===c||void 0===c?void 0:c.name)||(null===c||void 0===c?void 0:c.original_name)}),(0,d.jsx)("div",{className:"banner_buttons"}),t&&(0,d.jsx)("button",{type:"button",className:w,onClick:function(){return function(e){N((null===e||void 0===e?void 0:e.title)||(null===e||void 0===e?void 0:e.original_title))}(c)},children:"Watch trailer"}),!t&&(0,d.jsx)(f.rU,{to:"reviews",className:w,state:Z.state,children:"Reviews"}),!t&&(0,d.jsx)(f.rU,{to:"casts",className:w,state:Z.state,children:"Casts"}),(0,d.jsx)("h2",{className:x,children:t?(T=null===c||void 0===c?void 0:c.overview,M=150,(null===T||void 0===T?void 0:T.length)>M?(null===T||void 0===T?void 0:T.slice(0,M-1))+"\u2026":T):null===c||void 0===c?void 0:c.overview})]}),(0,d.jsx)("div",{className:S}),j&&(0,d.jsx)(h,{movieName:j,closeModal:function(){return N("")}})]})}},8015:function(e,t,n){n.d(t,{Z:function(){return v}});var a=n(8683),i=n(5861),r=n(885),o=n(7757),s=n.n(o),c=n(2791),l=(n(3037),n(8688),n(1087)),u=n(3160),d=n(5717),h=n(184);function v(e){var t=e.title,n=e.fetchURL,o=e.isLargePicture,v=(0,c.useState)([]),f=(0,r.Z)(v,2),m=f[0],p=f[1];(0,c.useEffect)((function(){function e(){return(e=(0,i.Z)(s().mark((function e(){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get(n);case 2:return t=e.sent,a=t.data,p(a.results),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);return(0,h.jsxs)("div",{className:"row",children:[Boolean(m.length)&&(0,h.jsx)("h2",{children:t}),(0,h.jsx)("div",{className:"sliderWrapper",children:(0,h.jsx)(d.Z,(0,a.Z)((0,a.Z)({},{dots:!0,infinite:!1,speed:500,slidesToShow:7,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:7,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:7,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:m.map((function(e){return(0,h.jsx)(l.rU,{className:"'row_poster' ".concat(o&&"row_poster_large"),to:"/movies/".concat(e.id),"aria-current":"true",children:(0,h.jsx)("img",{className:"row_img",src:"".concat("https://image.tmdb.org/t/p/original").concat(o?e.poster_path:e.backdrop_path),alt:e.title})},e.id)}))}))})]})}},3160:function(e,t,n){var a=n(1044).ZP.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"08cfb1cba341ef968995af439d190569"}});t.Z=a},898:function(e,t,n){n.d(t,{c:function(){return a}});var a={fetchLoginWithPass:"/authentication/token/validate_with_login",fetchCreateSession:"authentication/session/new?",fetchToken:"/authentication/token/new?",fetchTrending:"/trending/movie/day?",fetchTopRaiting:"movie/top_rated?&language=en-US&page=1",fetchUpcoming:"movie/upcoming?&language=en-US&page=1",fetchGuestSession:"/authentication/guest_session/new",fetchAddToFavorete:"/account/q/favorite",fetchReview:function(e){return"/movie/".concat(e,"/reviews?")},fetchSimilar:function(e){return"movie/".concat(e,"/similar?&language=en-US&page=1")},fetchSingleMovie:function(e){return"/movie/".concat(e,"?")},fetchMovieByName:function(e){return"/search/movie?query=".concat(e,"&page=1&")},fetchCasts:function(e){return"/movie/".concat(e,"/credits?")},fetchActor:function(e){return"/person/".concat(e,"?")}}},9331:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var a=n(885),i=n(2791),r=n(1087),o=n(7623),s=n(898),c=n(8015),l=n(184);function u(){var e,t=(0,r.lr)(),n=(0,a.Z)(t,2),u=n[0],d=n[1],h=null!==(e=u.get("query"))&&void 0!==e?e:"",v=(0,i.useState)(""),f=(0,a.Z)(v,2),m=f[0],p=f[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Z,{isRandomMovie:!0}),(0,l.jsx)("div",{className:"container-fluid p-5",children:(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d({query:m})},className:"d-flex",children:[(0,l.jsx)("input",{value:m,onChange:function(e){p(e.target.value)},className:"form-control me-2",type:"search",placeholder:"Search some movie","aria-label":"Search"}),(0,l.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})}),h&&(0,l.jsx)(c.Z,{title:"Search results",fetchURL:s.c.fetchMovieByName(h),isLargePicture:!0})]})}}}]);
//# sourceMappingURL=929.ffc58cab.chunk.js.map